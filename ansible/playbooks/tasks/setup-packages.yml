---
# ============================================
# ğŸ“¦ Base Packages Installation
# ============================================
# ì‹œìŠ¤í…œ ê¸°ë³¸ íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ê´€ë¦¬

- name: Update apt cache
  ansible.builtin.apt:
    update_cache: true
    cache_valid_time: 3600

- name: Perform system distribution upgrade
  ansible.builtin.apt:
    upgrade: dist

- name: Install base packages
  ansible.builtin.apt:
    name:
      # ê¸°ë³¸ ìœ í‹¸ë¦¬í‹°
      - curl
      - wget
      - htop
      - net-tools
      - git
      - jq
      - ccze
      # ë°¸ë¦¬ë°ì´í„° í•„ìˆ˜
      - ufw
      - fail2ban
      - chrony
      - unattended-upgrades
    state: present

- name: Autoremove unused packages
  ansible.builtin.apt:
    autoremove: true

- name: Autoclean apt cache
  ansible.builtin.command: apt-get autoclean -y
  changed_when: false
